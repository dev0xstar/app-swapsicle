(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9447],{297078:function(e,n,t){"use strict";t.d(n,{Z:function(){return k}});var r=t(667294),s=t(80628),a=t(939507),l=t(168019),i=t(611794),o=t(960239),c=t(425675),u=t.n(c),d=t(192886),f=t(280544),p=t(685089),m=t(132601),h=t(141842),x=t(590526),b=t(538578),v=t(926146),g=t(785893),y=function(e){let{currency:n,balance:t,onSelect:s,onDismiss:l,selectedCurrency:c,chainNames:p}=e,{account:m}=(0,a.Z)(),h=(0,r.useMemo)(()=>n?(0,f.LH)(t):null,[n,t]),x=(0,r.useMemo)(()=>h?(0,g.jsx)(v.Z,{balance:h}):m?(0,g.jsx)(i.Z,{}):null,[m,h]),y=(0,r.useMemo)(()=>n?p[n.chainId]:"",[n,p]),w=(0,r.useCallback)(()=>{n!==c&&(s(n),l())},[n,l,s,c]);return(0,g.jsx)("div",{className:(0,b.AK)(n===c&&"opacity-20 pointer-events-none","flex items-center w-full hover:bg-dark-800/40 px-4 py-2"),onClick:w,children:(0,g.jsxs)("div",{className:"flex items-center justify-between flex-grow gap-2 rounded cursor-pointer",children:[(0,g.jsxs)("div",{className:"flex flex-row items-center flex-grow gap-3",children:[(0,g.jsx)(u(),{className:"rounded-full",src:n?.logoURI||o.R,alt:"",width:32,height:32}),(0,g.jsxs)("div",{className:"flex flex-col",children:[(0,g.jsx)(d.Z,{variant:"base",weight:700,className:"text-high-emphesis",children:n.symbol}),(0,g.jsxs)(d.Z,{variant:"xs",className:"text-secondary",children:["On ",y]})]})]}),(0,g.jsx)("div",{className:"flex items-center",children:x})]})})},w=function(e){let{tokens:n,balances:t,onSelect:r,onDismiss:s,selectedCurrency:a,chainNames:l}=e;return n.length?(0,g.jsx)("div",{className:"flex flex-col flex-1 flex-grow min-h-[50vh] lg:min-h-fit overflow-hidden h-full divide-y divide-dark-800",children:n.map((e,n)=>(0,g.jsx)(y,{currency:e,balance:(0,p.UG)(e,t),onSelect:r,onDismiss:s,selectedCurrency:a,chainNames:l},n))}):(0,g.jsx)("div",{className:"px-4 py-2 text-base text-secondary",children:"No results found"})},j=function(e){let{tokens:n,balances:t,isOpen:s,onDismiss:a,onCurrencySelect:i,selectedCurrency:o,chainNames:c}=e,{0:u,1:d}=(0,r.useState)(""),f=(0,r.useMemo)(()=>u?n.filter(e=>[e.symbol,e.name,e.address].some(e=>e.toLowerCase().includes(u.toLowerCase()))):n,[u,n]);return(0,g.jsxs)(h.S.Controlled,{isOpen:s,onDismiss:a,children:[(0,g.jsx)(h.S.Header,{onClose:a,header:m.ag._(m.ag._("Select a token"))}),(0,g.jsx)(l.Z.Base,{placeholder:m.ag._(m.ag._("Search name or paste address")),value:u,onChange:e=>{d((0,x.UJ)(e)||e)}}),(0,g.jsx)("div",{className:"max-h-[450px] h-full mt-4 overflow-hidden overflow-y-auto border rounded border-dark-800 bg-dark-1000",children:(0,g.jsx)(w,{tokens:f,balances:t,onSelect:i,onDismiss:a,selectedCurrency:o,chainNames:c})})]})},O=r.memo(function(e){let{onCurrencySelect:n,onChange:t,value:c,currency:m,tokens:h,balances:x,balancesLoading:b,isOutputCurrency:v=!1,chainNames:y}=e,{account:w,openWeb3Modal:O}=(0,a.Z)(),{0:N,1:k}=(0,r.useState)(!1),S=(0,r.useMemo)(()=>m?(0,p.UG)(m,x):null,[m,x]),C=(0,r.useMemo)(()=>{let e=+Number("string"==typeof S?S.replace(/[^0-9.]/g,""):S).toFixed(4);return 0===e?"0":e<1e-4?"< 0.0001":(0,f.LH)(e)},[S]),Z=(0,r.useMemo)(()=>m?y[m.chainId]:"",[m,y]),E=(0,r.useCallback)(()=>{if(!w){O();return}k(!0)},[k,O,w]),P=(0,r.useCallback)(e=>{t&&t(e)},[t]),_=(0,r.useCallback)(e=>{let n=(0,f.KH)(()=>{let n=e.trim(),t=S||"0";return""===n?"":"."===n?"0.":Number(n)>Number(t)?t:18>=(0,p.ol)(n)?n:null});null!==n&&P(n)},[P,S]),I=(0,r.useCallback)(()=>{S&&!v&&P(String(S))},[v,P,S]);return(0,g.jsxs)("div",{className:"p-4 rounded bg-dark-card",children:[(0,g.jsx)(j,{tokens:h,isOpen:N,onDismiss:()=>k(!1),onCurrencySelect:n,selectedCurrency:m,balances:x,chainNames:y}),(0,g.jsxs)("div",{className:"flex flex-col items-center sm:flex-row",children:[(0,g.jsxs)("div",{className:"flex flex-col w-full",children:[(0,g.jsxs)("button",{className:"text-2xl font-bold text-white whitespace-nowrap px-2.5 py-2 rounded flex items-center justify-between w-max hover:bg-dark-card-hover",onClick:E,children:[(0,g.jsx)("div",{className:"w-8 h-8 mr-2.5 rounded-full",children:(0,g.jsx)(u(),{src:m?.logoURI||o.R,alt:"",width:32,height:32})}),(0,g.jsxs)("div",{className:"flex flex-col items-start",children:[(0,g.jsx)(d.Z,{variant:"base",weight:700,className:"text-high-emphesis",children:m?m.symbol:"Select a token"}),m&&(0,g.jsxs)(d.Z,{variant:"xs",className:"text-secondary",children:["On ",Z]})]}),(0,g.jsx)("span",{className:"duration-[0.3s] ml-4",children:(0,g.jsx)(s.Z,{size:18})})]}),m&&w?(0,g.jsx)("div",{className:"mt-2 form_ble_spbt",children:(0,g.jsxs)("p",{className:"flex items-center w-max",children:[(0,g.jsxs)("span",{className:"mr-2",children:["Balance: ",!b&&C]})," ",b&&(0,g.jsx)(i.Z,{size:"14px",color:"white"})]})}):(0,g.jsx)("div",{className:"flex mt-7"})]}),(0,g.jsxs)("div",{className:"w-full border inp_bx_bg border-white/10",children:[(0,g.jsx)(l.Z.Numeric,{value:c,disabled:b,id:`amount-${m?.symbol}`,readOnly:v,onUserInput:_,className:"w-full text-3xl bg-transparent pr-0 py-1 text-left text-white",placeholder:"0"}),!v&&(0,g.jsx)("button",{onClick:I,children:"Max"})]})]})]})}),N=t(827434),k=function(e){let{inputValue:n,onInput:t,outputValue:r,inputCurrency:s,outputCurrency:a,inputCurrencyTokens:l,outputCurrencyTokens:i,inputTokenBalances:o,outputTokenBalances:c,balancesLoading:u,onInputCurrencySelect:d,onOutputCurrencySelect:f,chainNames:p}=e;return(0,g.jsxs)("div",{className:"flex flex-col",children:[(0,g.jsx)(O,{value:n,onChange:t,currency:s,onCurrencySelect:d,tokens:l,balances:o,balancesLoading:u,chainNames:p}),(0,g.jsx)("span",{className:"flex items-center justify-center w-full",children:(0,g.jsx)(N.Z,{})}),(0,g.jsx)(O,{value:r,currency:a,onCurrencySelect:f,tokens:i,balances:c,balancesLoading:u,chainNames:p,isOutputCurrency:!0})]})}},286364:function(e,n,t){"use strict";var r=t(667294);n.Z=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],{0:n,1:t}=(0,r.useState)(e);return[n,(0,r.useCallback)(async e=>{t(!0);try{return await e()}finally{t(!1)}},[])]}},709597:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return F}});var r,s,a=t(809008),l=t.n(a),i=t(902962),o=t(534799),c=t(101097),u=t(925575),d=t(108307),f=t(667294),p=t(555814),m=t(939507),h=t(38952),x=t(534588),b=t(280544),v=t(438335),g=t(797444),y=t(24187),w=t(286364),j=t(685089),O=t(357157);let N=((r={}).Approve="approve",r.Send="send",r.Bridge="bridge",r),k=((s={}).Success="SUCCESS",s.Pending="PENDING",s.Failed="FAILED",s);async function S(e,n,t){return y.Z.wallet.isConnected()&&await y.Z.wallet.getBalance(e,n,t)||"0.0"}async function C(e,n){return Promise.all(e.map(async e=>{let{chainSlug:t,chainId:r,symbol:s,address:a}=e;return{chainId:r,symbol:s,address:a,balance:await S(t,s,n)}}))}function Z(e,n){let{0:t,1:r}=(0,f.useState)(new Map),[s,a]=(0,w.Z)(!0),l=(0,f.useCallback)(()=>{a(async()=>{let t=await C(e,n);r((0,j.GF)(t))})},[e,n,a]);return(0,f.useEffect)(()=>{l()},[e,n]),[t,s,l]}function E(e,n){var t,r;t=O.Pt,r=t=>{t.step===e&&t.status===k.Success&&n(t)},(0,f.useEffect)(()=>{let e=e=>r(e.detail);return window.addEventListener(t,e),()=>window.removeEventListener(t,e)},[t,r])}var P=t(732543),_=t(738317),I=t(738706),L=t(297078),T=t(111295),z=t(519673),M=t(810617),D=t(65384),U=t(322321),B=t(785893);function H(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),t.push.apply(t,r)}return t}function R(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?H(Object(t),!0).forEach(function(n){(0,d.Z)(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):H(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}var A=function(){let e=(0,z.T)(),{inputTokens:n,outputTokens:t,chainIdsMap:r,chainNames:s}=(0,z.C)(e=>e.swing),{account:a,openWeb3Modal:l,chainId:i}=(0,m.Z)(),{0:o,1:c}=(0,f.useState)(""),{0:u,1:d}=(0,f.useState)(""),{0:y,1:j}=(0,f.useState)(a),{0:O,1:k}=(0,f.useState)(n[0]),{0:S,1:C}=(0,f.useState)(t[0]),{0:H,1:A}=(0,f.useState)(),{0:F,1:W}=(0,f.useState)(!1),[G,q]=(0,w.Z)(),[X,$]=(0,w.Z)(),[J,K,V]=Z(n,a),[Q,Y,ee]=Z(t,(0,h.UJ)(y)?y:a),en=!O||!S||!y||!a||F||G||!H||X,et=(0,f.useMemo)(()=>({fromChain:String(O?.chainId),fromToken:O?.address,fromUserAddress:a,toChain:String(S?.chainId),toToken:S?.address,toUserAddress:y,maxSlippage:.05}),[O,S,y,a]),er=(0,f.useMemo)(()=>a?F?"No route found":X?"Swinging...":G?"Fetching quote...":"Swing":"Connect wallet",[a,G,F,X]),es=(0,f.useMemo)(()=>{if(i&&i in U.b)return U.b[i].nativeCurrency.symbol},[i]),ea=(0,f.useMemo)(()=>H?`${(0,b.RW)(Number(H.gasUSD),3).toLocaleString("en-US")} ${es} fee`:"Transfer fee",[es,H]),el=(0,f.useCallback)(()=>{d(""),A(void 0),W(!1)},[]),ei=(0,v.Z)(async e=>{if(!e||0===parseFloat(e)){el();return}if(!O||!S||!y||!a)return;let{routes:n}=await q(()=>_.Z.getQuote(R(R({},et),{},{amount:e})));if(0===n.length){W(!0);return}let t=n[0],{amount:r,decimals:s}=t.quote;d((0,b.Lr)(r,s).toString()),A(t)},200,[O,S,y,a,_.Z,el]),eo=(0,f.useCallback)(async()=>{if(!en)try{await $(()=>_.Z.transfer(H,R(R({},et),{},{amount:o}))),el(),V(),ee()}catch(e){console.error(e)}},[o,H,en,el,et,V,ee,$]),ec=(0,f.useCallback)(e=>{c(e),el(),ei(e)},[el,ei]),eu=(0,f.useCallback)(()=>{a?eo():l()},[a,l,eo]),ed=(0,f.useCallback)((n,t)=>{e((0,T.dT)({hash:n,summary:t,from:a,chainId:Number(O?.chainId)}))},[e,a,O?.chainId]),ef=(0,f.useCallback)(e=>e&&r?(0,M.aq)((0,M.Lz)(_.Z,e.chainSlug??"",e.symbol),r):[],[r]);return(0,f.useEffect)(()=>{j(a)},[a]),(0,f.useEffect)(()=>{k(n[0])},[n]),(0,f.useEffect)(()=>{e((0,D._X)(ef(O)))},[O]),(0,f.useEffect)(()=>{C(t.find(e=>e.symbol===S?.symbol&&e.chainId===S?.chainId)??t[0])},[t]),(0,f.useEffect)(()=>{O&&S&&o&&(el(),ei(o))},[O,S]),E(N.Approve,e=>{e.txHash&&ed(e.txHash,"Approve")}),E(N.Send,e=>{e.txHash&&ed(e.txHash,"Sent")}),(0,B.jsx)(p.Z,{className:"z-10 pt-4 mt-[6%] space-t-6 md:pt-8 lg:pt-12 cstm_cntnr freezer",maxWidth:"2xl",children:(0,B.jsx)("div",{className:"px-0 sm:max-1280",children:(0,B.jsx)("div",{className:"flex justify-center",children:(0,B.jsx)("div",{className:"w-[95%] sm:w-[80%] max-w-[550px] min-w-[310px]",children:(0,B.jsxs)("div",{className:"flex flex-col order-first gap-2 p-4 icecard h-fit xl:col-span-2 2xl:col-span-2",children:[(0,B.jsx)("div",{className:"flex justify-between mb-3",children:(0,B.jsx)("div",{children:(0,B.jsx)("h3",{children:"Swing"})})}),(0,B.jsx)(L.Z,{inputValue:o,onInput:ec,outputValue:u,inputCurrency:O,outputCurrency:S,inputCurrencyTokens:n,outputCurrencyTokens:t,inputTokenBalances:J,outputTokenBalances:Q,balancesLoading:K||Y,onInputCurrencySelect:k,onOutputCurrencySelect:C,chainNames:s}),(0,B.jsx)(g.Z,{value:y,onChange:j,disabled:!a||!O?.transferrable}),(0,B.jsx)(I.Z,{Header:(0,B.jsxs)("div",{className:"px-1.5 py-1 flex items-center",children:[(0,B.jsx)(x.Z,{className:"mr-2",strokeWidth:1,fill:"white",size:16}),ea]})}),(0,B.jsx)(P.Z,{onClick:eu,disabled:en,loading:G||X,children:er})]})})})})})};function F(){return(0,B.jsxs)(B.Fragment,{children:[(0,B.jsx)(l(),{children:(0,B.jsx)("title",{children:"Swapsicle"})}),(0,B.jsx)(i.PB,{title:"Swapsicle"}),(0,B.jsx)(u.Z,{image:"icebgtokenswap2"}),(0,B.jsx)(A,{})]})}F.Guard=(0,c.Z)(o.L.SWING)},909909:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/swing",function(){return t(709597)}])},827434:function(e,n,t){"use strict";var r=t(667294),s=t(45697),a=t.n(s);function l(){return(l=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e}).apply(this,arguments)}var i=(0,r.forwardRef)(function(e,n){var t=e.color,s=e.size,a=void 0===s?24:s,i=function(e,n){if(null==e)return{};var t,r,s=function(e,n){if(null==e)return{};var t,r,s={},a=Object.keys(e);for(r=0;r<a.length;r++)t=a[r],n.indexOf(t)>=0||(s[t]=e[t]);return s}(e,n);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)t=a[r],!(n.indexOf(t)>=0)&&Object.prototype.propertyIsEnumerable.call(e,t)&&(s[t]=e[t])}return s}(e,["color","size"]);return r.createElement("svg",l({ref:n,xmlns:"http://www.w3.org/2000/svg",width:a,height:a,viewBox:"0 0 24 24",fill:"none",stroke:void 0===t?"currentColor":t,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},i),r.createElement("polyline",{points:"6 9 12 15 18 9"}))});i.propTypes={color:a().string,size:a().oneOfType([a().string,a().number])},i.displayName="ChevronDown",n.Z=i},80628:function(e,n,t){"use strict";var r=t(667294),s=t(45697),a=t.n(s);function l(){return(l=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e}).apply(this,arguments)}var i=(0,r.forwardRef)(function(e,n){var t=e.color,s=e.size,a=void 0===s?24:s,i=function(e,n){if(null==e)return{};var t,r,s=function(e,n){if(null==e)return{};var t,r,s={},a=Object.keys(e);for(r=0;r<a.length;r++)t=a[r],n.indexOf(t)>=0||(s[t]=e[t]);return s}(e,n);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)t=a[r],!(n.indexOf(t)>=0)&&Object.prototype.propertyIsEnumerable.call(e,t)&&(s[t]=e[t])}return s}(e,["color","size"]);return r.createElement("svg",l({ref:n,xmlns:"http://www.w3.org/2000/svg",width:a,height:a,viewBox:"0 0 24 24",fill:"none",stroke:void 0===t?"currentColor":t,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},i),r.createElement("polyline",{points:"9 18 15 12 9 6"}))});i.propTypes={color:a().string,size:a().oneOfType([a().string,a().number])},i.displayName="ChevronRight",n.Z=i},534588:function(e,n,t){"use strict";var r=t(667294),s=t(45697),a=t.n(s);function l(){return(l=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e}).apply(this,arguments)}var i=(0,r.forwardRef)(function(e,n){var t=e.color,s=e.size,a=void 0===s?24:s,i=function(e,n){if(null==e)return{};var t,r,s=function(e,n){if(null==e)return{};var t,r,s={},a=Object.keys(e);for(r=0;r<a.length;r++)t=a[r],n.indexOf(t)>=0||(s[t]=e[t]);return s}(e,n);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)t=a[r],!(n.indexOf(t)>=0)&&Object.prototype.propertyIsEnumerable.call(e,t)&&(s[t]=e[t])}return s}(e,["color","size"]);return r.createElement("svg",l({ref:n,xmlns:"http://www.w3.org/2000/svg",width:a,height:a,viewBox:"0 0 24 24",fill:"none",stroke:void 0===t?"currentColor":t,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},i),r.createElement("polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2"}))});i.propTypes={color:a().string,size:a().oneOfType([a().string,a().number])},i.displayName="Zap",n.Z=i}},function(e){e.O(0,[2962,930,2888,9774,179],function(){return e(e.s=909909)}),_N_E=e.O()}]);