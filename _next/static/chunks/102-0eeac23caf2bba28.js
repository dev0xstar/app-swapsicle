"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[102],{593514:function(e,t,r){var i=r(108307),n=r(704730),s=r(538578),a=r(667294),o=r(785893);let l=["value","onUserInput","placeholder","className","align","fontSize"];function d(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,i)}return r}let c=RegExp("^\\d*$"),u=a.memo(e=>{let{value:t,onUserInput:r,placeholder:a,className:u,align:p,fontSize:m="24px"}=e,f=(0,n.Z)(e,l),x=e=>{(""===e||c.test((0,s.hr)(e)))&&100>=Number(e)&&r(e)};return(0,o.jsx)(o.Fragment,{children:(0,o.jsx)("input",function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?d(Object(r),!0).forEach(function(t){(0,i.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):d(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({value:t,onChange:e=>{x(e.target.value.replace(/,/g,".").replace(/%/g,""))},inputMode:"decimal",title:"Token Amount",autoComplete:"off",autoCorrect:"off",type:"text",pattern:"^[0-9]*$",placeholder:a||"100",maxLength:3,className:(0,s.AK)("right"===p&&"text-right","font-medium bg-transparent whitespace-nowrap overflow-ellipsis flex-auto",u),style:{fontSize:m}},f))})});u.displayName="PercentInput",t.Z=u},168019:function(e,t,r){r.d(t,{Z:function(){return h}});var i=r(108307),n=r(704730),s=r(538578),a=r(667294),o=r(785893);let l=["value","onUserInput","placeholder","className","align","fontSize"];function d(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,i)}return r}function c(e){let{value:t,onUserInput:r,placeholder:c,className:u="flex w-full h-full p-3 font-bold rounded overflow-ellipsis recipient-address-input bg-dark-900 placeholder-low-emphesis",align:p,fontSize:m="24px"}=e,f=(0,n.Z)(e,l),x=(0,a.useCallback)(e=>{r(e.target.value.replace(/\s+/g,""))},[r]);return(0,o.jsx)("input",function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?d(Object(r),!0).forEach(function(t){(0,i.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):d(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({value:t,onChange:x,inputMode:"text",title:"Wallet Address or ENS name",autoComplete:"off",autoCorrect:"off",autoCapitalize:"off",spellCheck:"false",placeholder:"Wallet Address or ENS name",pattern:"^(0x[a-fA-F0-9]{40})$",type:"text",className:(0,s.AK)("right"===p&&"text-right","font-medium bg-transparent whitespace-nowrap overflow-ellipsis flex-auto",u),style:{fontSize:m}},f))}c.displayName="AddressInput";var u=r(362437),p=r(593514);let m=["onChange","className"];function f(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,i)}return r}function x(e){let{onChange:t,className:r="w-full p-4 mt-4 text-base font-bold border rounded appearance-none bg-dark-1000/90 border-dark-700 focus:border-dark-800 placeholder-secondary"}=e,s=(0,n.Z)(e,m);return(0,o.jsx)("input",function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?f(Object(r),!0).forEach(function(t){(0,i.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):f(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({type:"text",autoComplete:"off",onChange:e=>{t(e.target.value)},className:r},s))}x.displayName="BaseInput";var h={Address:c,Percent:p.Z,Numeric:u.Z,Base:x}},180976:function(e,t,r){var i=r(425675),n=r.n(i),s=r(785893);t.Z=e=>{let{className:t}=e;return(0,s.jsxs)("a",{href:"https://algebra.finance",className:"flex items-center gap-2 p-2",title:"Browse to Algebra Finance",target:"_blank",rel:"noopener noreferrer",children:[(0,s.jsx)("span",{className:"text-sm font-semibold space-y-2",children:"Powered by"}),(0,s.jsxs)("div",{className:"flex items-center gap-1",children:[(0,s.jsx)("div",{className:"flex items-center justify-center w-[18px] h-[18px] rounded-full",children:(0,s.jsx)(n(),{src:"/images/algebra-logo.svg",width:18,height:18,alt:"Algebra Logo"})}),(0,s.jsx)(n(),{src:"/images/algebra-integral.svg",width:120,height:18,alt:"Algebra Integral"})]})]})}},740102:function(e,t,r){r.d(t,{a:function(){return eS}});var i,n=r(579542),s=r(63995),a=r(799767),o=r(505867),l=r(667294),d=r(837656),c=r(80628),u=r(884081),p=r(939507),m=r(785893);function f(e){let{handleTokenSelection:t,currency:r,otherCurrency:i,isDisabled:n}=e,{account:s}=(0,p.Z)(),{0:a,1:f}=(0,l.useState)(!1),x=(0,l.useCallback)(e=>{t(e)},[]),h=(0,u._h)(s??void 0,r??void 0),g=(0,l.useMemo)(()=>h?parseFloat(h.toSignificant(5)):"0",[h]);return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(d.Z.Controlled,{open:a,onDismiss:()=>f(!1),onCurrencySelect:x,selectedCurrency:r,otherSelectedCurrency:i,showCommonBases:!0}),(0,m.jsxs)("div",{className:`group bg-dark-card w-full ${!n&&"cursor-pointer"} rounded p-4`,onClick:()=>!n&&f(!0),children:[(0,m.jsxs)("div",{className:"flex items-center text-white",children:[(0,m.jsx)("div",{className:"w-[35px] h-[35px] bg-[#3a4e5d] rounded-[50%]",children:(0,m.jsx)(o.X,{size:35,currency:r})}),n?(0,m.jsx)("div",{className:"ml-4",children:r?r.symbol:""}):(0,m.jsxs)("div",{className:"flex flex-col justify-center ml-4",children:[r&&(0,m.jsx)("div",{className:"text-xs font-bold",children:"BALANCE"}),(0,m.jsx)("div",{children:`${r?g:"Not selected"}`})]})]}),!n&&(0,m.jsx)("div",{className:"mt-4",children:(0,m.jsxs)("button",{className:"group-selector flex items-center w-full justify-between text-[#92b6d1] text-[15px] pl-4 pr-2 py-1.5 rounded border-[none] hover:bg-[#2a4559] group-hover:bg-[#2a4559] group-hover:mr-[5px]",onClick:()=>f(!0),children:[(0,m.jsx)("span",{children:r?r.symbol:"Select a token"}),(0,m.jsx)("span",{className:"duration-[0.3s] group-hover:mr-[5px]",children:(0,m.jsx)(c.Z,{className:"ml-2",size:18})})]})})]})]})}var x=r(361896);function h(e){let{baseCurrency:t,quoteCurrency:r,handleCurrencySwap:i,handleCurrencyASelect:n,handleCurrencyBSelect:s,isDisabled:a}=e;return(0,m.jsx)("div",{className:"w-full flex flex-col-reverse md:flex-row",children:(0,m.jsx)("div",{className:"flex flex-col w-full gap-4",children:(0,m.jsxs)("div",{className:"flex flex-col md:flex-row",children:[(0,m.jsx)(f,{currency:t,otherCurrency:r,handleTokenSelection:n,isDisabled:a}),(0,m.jsxs)("div",{className:`min-w-[32px] min-h-[32px] bg-dark-card rounded-full ${t&&r&&!a?"cursor-pointer":""} md:mx-4 md:my-auto flex items-center justify-center my-8 mx-auto`,children:[t&&r&&!a&&(0,m.jsx)("div",{className:"flex items-center justify-center",onClick:i,children:(0,m.jsxs)("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,m.jsx)("path",{d:"M2.64645 3.64645C2.45118 3.84171 2.45118 4.15829 2.64645 4.35355L5.82843 7.53553C6.02369 7.7308 6.34027 7.7308 6.53553 7.53553C6.7308 7.34027 6.7308 7.02369 6.53553 6.82843L3.70711 4L6.53553 1.17157C6.7308 0.976311 6.7308 0.659728 6.53553 0.464466C6.34027 0.269204 6.02369 0.269204 5.82843 0.464466L2.64645 3.64645ZM13 3.5L3 3.5V4.5L13 4.5V3.5Z",fill:"white"}),(0,m.jsx)("path",{d:"M13.3536 12.3536C13.5488 12.1583 13.5488 11.8417 13.3536 11.6464L10.1716 8.46447C9.97631 8.26921 9.65973 8.26921 9.46447 8.46447C9.2692 8.65973 9.2692 8.97631 9.46447 9.17157L12.2929 12L9.46447 14.8284C9.2692 15.0237 9.2692 15.3403 9.46447 15.5355C9.65973 15.7308 9.97631 15.7308 10.1716 15.5355L13.3536 12.3536ZM3 12.5L13 12.5L13 11.5L3 11.5L3 12.5Z",fill:"white"})]})}),(!t||!r||a)&&(0,m.jsx)(x.Z,{size:16})]}),(0,m.jsx)(f,{currency:r,otherCurrency:t,handleTokenSelection:s,isDisabled:a})]})})})}var g=r(341276),b=r(538578),N=r(519673),v=r(889680),y=r(168019);function C(e){let{currencyA:t,currencyB:r,mintInfo:i}=e,{onStartPriceInput:n}=(0,s.EG)(i.noLiquidity),{0:a,1:o}=(0,l.useState)("");return(0,m.jsxs)("div",{className:"flex items-center text-white",children:[(0,m.jsx)("div",{className:"flex-1 py-3 whitespace-nowrap bg-dark-card rounded-xl",children:(0,m.jsx)("div",{className:"px-4",children:`1 ${t?.symbol}`})}),(0,m.jsx)("div",{className:"min-w-[32px] min-h-[32px] md:mx-4 md:my-auto flex items-center justify-center my-8 mx-auto",children:"="}),(0,m.jsxs)("div",{className:"flex flex-1",children:[(0,m.jsx)(y.Z.Numeric,{id:"initial-price-input",className:"w-full text-xl text-left leading-3 bg-dark-card rounded-l-xl py-2 px-4 h-[42px]",value:a,onUserInput:e=>{o(e.trim()),n(e)},placeholder:"Enter initial price"}),(0,m.jsx)("div",{className:"px-4 py-3 whitespace-nowrap bg-dark-card rounded-r-xl",children:r?.symbol})]})]})}var R=r(876029),w=r(108307),j=r(846445),E=r(611794),A=r(14744),S=r(673014);r(195577),r(830804);var k=r(971975);function O(e){let{currency:t,value:r,handleMax:i,handleInput:n,showApproval:s,handleApprove:a,isApproving:d,locked:c,isMax:f,error:x}=e,{i18n:h}=(0,A.mV)(),{account:b,chainId:N}=(0,p.Z)(),v=(0,u._h)(b??void 0,t??void 0),y=(0,u._h)(b??void 0,k.s.onChain(N)),C=(0,u._h)(b??void 0,N?S.g9[N]:void 0),{0:R,1:w}=(0,l.useState)("");(0,l.useEffect)(()=>{r?w(r):""===r&&w("")},[r]);let O=(0,l.useMemo)(()=>v&&t?t.isNative&&N===g.ChainId.TELOS?`${v.toSignificant(2)} + ${C?C.toFixed(2):0} ${t.wrapped.symbol}`:v.toSignificant(10):"Loading...",[v,t,N,C,y]);return(0,m.jsxs)("div",{className:"bg-dark-card w-full border rounded border-solid border-[#1a1a1b] p-4 flex flex-col  gap-2 relative",children:[c&&(0,m.jsxs)("div",{className:"z-[1000] bg-[rgba(38,52,63,0.85)] rounded left-0 top-0 w-full h-full absolute flex flex-col items-center justify-center",children:[(0,m.jsx)("div",{children:h._(h._("Price is outside specified price range."))}),(0,m.jsx)("div",{className:"mt-8",children:h._(h._("Single-asset deposit only."))})]}),(0,m.jsxs)("div",{className:"flex items-center",style:{pointerEvents:c?"none":"unset"},children:[(0,m.jsx)("div",{className:"w-[35px] h-[35px] bg-[#3a4e5d] rounded-[50%]",children:(0,m.jsx)(o.X,{size:35,currency:t})}),b&&(0,m.jsxs)("div",{className:"ml-4",children:[(0,m.jsxs)("div",{className:"flex gap-2 overflow-hidden justify-items-center align-self",children:[(0,m.jsx)("span",{className:"mr-auto lg:mr-2",children:h._(h._("Balance:"))}),(0,m.jsx)("span",{className:"break-all",children:O})]}),(0,m.jsx)("div",{children:(0,m.jsx)("button",{onClick:i,disabled:f||v?.toSignificant(5)==="0",className:"bg-transparent  text-[#4ca8ef] text-[13px] p-0 border-[none] disabled:pointer-events-none disabled:text-[#506f87] hover:underline",children:h._(h._("MAX"))})})]})]}),(0,m.jsxs)("div",{className:"flex relative items-center inp_bx_bg !px-0",children:[(0,m.jsx)("input",{value:R,id:`amount-${t?.symbol}`,disabled:c,onChange:e=>{w(e.target.value.trim()),n(e.target.value.trim())},className:"bg-transparent text-left !w-full",placeholder:h._("Enter an amount")}),(0,m.jsx)("div",{className:"px-4 py-3 font-bold text-white whitespace-nowrap bg-dark-card",title:N===g.ChainId.TELOS?t?.wrapped.name:t?.name,children:N===g.ChainId.TELOS?t?.wrapped.symbol:t?.symbol})]}),b&&(0,m.jsx)("div",{className:"flex items-center justify-center w-full",children:s?d?(0,m.jsxs)("button",{className:"w-full flex items-center justify-center gap-2 bg-violet-button text-[white] p-2 rounded border-[none]",disabled:!0,children:[(0,m.jsx)(E.Z,{size:"16px",stroke:"white"}),(0,m.jsx)("span",{children:h._(h._("Approving"))})]}):(0,m.jsx)("button",{className:"w-full bg-violet-button text-[white] p-2 rounded border-[none]",onClick:a,children:h._(h._("Approve"))}):void 0!==s?(0,m.jsxs)("div",{className:"w-full flex items-center justify-center p-2 rounded bg-violet-button text-[white]",children:[(0,m.jsx)("span",{children:(0,m.jsx)(j.Z,{size:16})}),(0,m.jsx)("span",{style:{marginLeft:"3px"},children:h._(h._("Approved"))})]}):null}),x&&(0,m.jsx)("div",{className:"bg-[#290505] text-[#f31b1b] border text-center p-2 rounded border-solid border-[#580d0d]",children:x})]})}r(35886),r(753455),r(807270),r(586191),r(391183),r(875384),r(708790);var I=r(587151),P=r(178462),_=r(353487),L=r(258434),U=r(799603),T=r(259417);function M(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,i)}return r}function D(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?M(Object(r),!0).forEach(function(t){(0,w.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):M(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function B(e){let{currencyA:t,currencyB:r,mintInfo:i}=e,{i18n:n}=(0,A.mV)(),{chainId:a}=(0,p.Z)(),{independentField:o,typedValue:d}=(0,s.KS)(),{onFieldAInput:c,onFieldBInput:u}=(0,s.EG)(i.noLiquidity),{[v.Mb.LOWER]:f,[v.Mb.UPPER]:x}=(0,l.useMemo)(()=>i.ticks,[i]),h={[o]:d,[i.dependentField]:i.parsedAmounts[i.dependentField]?.toSignificant(6)??""},N=[I.gN.CURRENCY_A,I.gN.CURRENCY_B].reduce((e,t)=>D(D({},e),{},{[t]:(0,b.iN)(i.currencyBalances[t])}),{}),y=[I.gN.CURRENCY_A,I.gN.CURRENCY_B].reduce((e,t)=>D(D({},e),{},{[t]:N[t]?.equalTo(i.parsedAmounts[t]??"0")}),{}),[C,R]=(0,P.qL)(a===g.ChainId.TELOS?i.parsedAmounts[I.gN.CURRENCY_A]?.wrapped:i.parsedAmounts[I.gN.CURRENCY_A]||(0,b.eo)("1",t),a?_.V3_NONFUNGIBLE_POSITION_MANAGER_ADDRESS[a]:void 0),[w,j]=(0,P.qL)(a===g.ChainId.TELOS?i.parsedAmounts[I.gN.CURRENCY_B]?.wrapped:i.parsedAmounts[I.gN.CURRENCY_B]||(0,b.eo)("1",r),a?_.V3_NONFUNGIBLE_POSITION_MANAGER_ADDRESS[a]:void 0),E=(0,l.useMemo)(()=>{if(C!==P.UK.UNKNOWN)return C===P.UK.NOT_APPROVED||C!==P.UK.APPROVED},[C]),S=(0,l.useMemo)(()=>{if(w!==P.UK.UNKNOWN)return w===P.UK.NOT_APPROVED||w!==P.UK.APPROVED},[w]),k=(0,l.useMemo)(()=>{if(4!==i.errorCode&&5!==i.errorCode||!i.errorMessage||!t||5===i.errorCode||4===i.errorCode&&t.isNative&&a===g.ChainId.TELOS)return;let e=i.errorMessage.split(" ")[1];if(t.wrapped.symbol===e)return i.errorMessage},[i,t,a]),M=(0,l.useMemo)(()=>{if(5!==i.errorCode&&4!==i.errorCode||!i.errorMessage||!r||5===i.errorCode||4===i.errorCode&&r.isNative&&a===g.ChainId.TELOS)return;let e=i.errorMessage.split(" ")[1];if(r.wrapped.symbol===e)return i.errorMessage},[i,r,a]),B=(0,L.O)(i.pool,i.position);return(0,m.jsxs)("div",{className:"flex flex-col gap-4 freezer",children:[(0,m.jsxs)("div",{className:"flex flex-col justify-between gap-4 md:flex-row",children:[(0,m.jsx)("div",{className:"w-full mb-4 md:mb-0",style:{borderRadius:"8px"},children:(0,m.jsx)(O,{currency:t,otherCurrency:r,value:h[I.gN.CURRENCY_A],handleInput:c,handleMax:()=>c(N[I.gN.CURRENCY_A]?.toExact()??""),showApproval:E,isApproving:C===P.UK.PENDING,handleApprove:R,disabled:!0,locked:i.depositADisabled,isMax:!!y[I.gN.CURRENCY_A],error:k,isBase:!1})}),(0,m.jsx)("div",{className:"w-full mb-4 md:mb-0",children:(0,m.jsx)(O,{currency:r,otherCurrency:t,value:h[I.gN.CURRENCY_B],handleInput:u,handleMax:()=>u(N[I.gN.CURRENCY_B]?.toExact()??""),showApproval:S,isApproving:w===P.UK.PENDING,handleApprove:j,disabled:!1,locked:i.depositBDisabled,isMax:!!y[I.gN.CURRENCY_B],error:M,isBase:!0})})]}),B.lpAPR?(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)("h4",{children:"Estimated APR"}),(0,m.jsxs)("div",{className:"flex flex-col justify-between gap-4 md:flex-row",children:[(0,m.jsxs)("div",{className:"flex items-center justify-between w-full px-4 py-2 rounded bg-dark-card",children:[(0,m.jsxs)("div",{children:[(0,m.jsx)("h4",{children:"Pool APR"}),B.lpAPR?(0,m.jsx)("h4",{children:`${Number(B.lpAPR.toFixed(2).toLocaleString())}%`}):(0,m.jsx)("h4",{})]}),(0,m.jsx)(U.G,{className:"p-2 text-black rounded-full",style:{backgroundColor:"#5161f2"},icon:T.owJ})]}),(0,m.jsxs)("div",{className:"flex items-center justify-between w-full px-4 py-2 rounded bg-dark-card",children:[(0,m.jsxs)("div",{children:[(0,m.jsx)("h4",{children:"Farm APR"}),B.farmingAPR?(0,m.jsx)("h4",{children:`${Number(B.farmingAPR.toFixed(2)).toLocaleString()}%`}):(0,m.jsx)("h4",{children:"0%"})]}),(0,m.jsx)(U.G,{className:"p-2 text-black rounded-full",style:{backgroundColor:"#5161f2"},icon:T.owJ})]}),(0,m.jsxs)("div",{className:"flex items-center justify-between w-full px-4 py-2 rounded bg-dark-card",children:[(0,m.jsxs)("div",{children:[(0,m.jsx)("h4",{children:"Total APR"}),B.lpAPR?(0,m.jsx)("h4",{children:`${Number((B.farmingAPR+B.lpAPR).toFixed(2)).toLocaleString()}%`}):(0,m.jsx)("h4",{})]}),(0,m.jsx)(U.G,{className:"p-2 text-black rounded-full",style:{backgroundColor:"#5161f2"},icon:T.owJ})]})]})]}):(0,m.jsx)(m.Fragment,{})]})}var q=r(572318),Y=r(136527),$=r(828465),F=r(500989),Z=r(764093),z=r(569383),K=r(438329),W=r(330214);let V=new g.Percent(50,1e4);function G(e){let{baseCurrency:t,quoteCurrency:r,mintInfo:i,handleAddLiquidity:n,setRejected:s,isLocked:o,setIsLocked:d}=e,{chainId:c,provider:f,account:x}=(0,p.Z)(),{getGasPrice:h}=(0,W.Z)(),b=(0,Y.Z)(),y=(0,z.i$)(),C=(0,N.T)(),R=i.outOfRange?q.fI:V,w=(0,$.h7)(),j=i.parsedAmounts[I.gN.CURRENCY_A],E=i.parsedAmounts[I.gN.CURRENCY_B],A=(0,u._h)(x??void 0,c?S.g9[c]:void 0);(0,l.useMemo)(()=>{if(t&&r&&j&&E&&c){if(t.isNative||t.wrapped.address.toLowerCase()===S.g9[c].address.toLowerCase()){if(A&&g.JSBI.greaterThan(j.numerator,A.numerator))return g.JSBI.subtract(j.numerator,A.numerator)}else if((r.isNative||r.wrapped.address.toLowerCase()===S.g9[c].address.toLowerCase())&&A&&g.JSBI.greaterThan(E.numerator,A.numerator))return g.JSBI.subtract(E.numerator,A.numerator)}},[j,E,t,c,r,A]);let k=i?.parsedAmounts[I.gN.CURRENCY_A]?.currency.isNative?i?.parsedAmounts[I.gN.CURRENCY_A]?.wrapped:!!i?.parsedAmounts[I.gN.CURRENCY_B]?.currency.isNative&&i?.parsedAmounts[I.gN.CURRENCY_B]?.wrapped,O=c===g.ChainId.TELOS&&k&&A?.lessThan(k),[P]=(0,F.qL)(i.parsedAmounts[I.gN.CURRENCY_A]?.currency.isNative&&c===g.ChainId.TELOS?i?.parsedAmounts[I.gN.CURRENCY_A]?.wrapped:i?.parsedAmounts[I.gN.CURRENCY_A],c?_.V3_NONFUNGIBLE_POSITION_MANAGER_ADDRESS[c]:void 0),[L]=(0,F.qL)(i?.parsedAmounts[I.gN.CURRENCY_B]?.currency.isNative&&c===g.ChainId.TELOS?i?.parsedAmounts[I.gN.CURRENCY_B]?.wrapped:i?.parsedAmounts[I.gN.CURRENCY_B],c?_.V3_NONFUNGIBLE_POSITION_MANAGER_ADDRESS[c]:void 0),{wrapType:U,execute:T,inputError:M}=(0,Z.Z)(t?.isNative?t:r?.isNative?r:void 0,c?S.g9[c]:void 0,k&&A&&k.subtract(A.wrapped).toSignificant(18)),D=(0,l.useMemo)(()=>!!((i.depositADisabled||P===F.UK.APPROVED)&&(i.depositBDisabled||L===F.UK.APPROVED)&&!i.errorMessage&&!i.invalidRange),[i.depositADisabled,i.depositBDisabled,i.errorMessage,i.invalidRange,P,L]),B=i.invalidRange?"Invalid range":i.ticks[v.Mb.LOWER]&&i.ticks[v.Mb.UPPER]?i.parsedAmounts[I.gN.CURRENCY_A]&&i.parsedAmounts[I.gN.CURRENCY_B]||i.depositADisabled||i.depositBDisabled?void 0:"Enter amounts":"Select range";async function G(){if(c&&f&&x&&t&&r&&i.position&&x&&b){let e=c===g.ChainId.TELOS?void 0:t.isNative?t:r.isNative?r:void 0,{calldata:o,value:l}=a.cK.addCallParameters(i.position,{slippageTolerance:R,recipient:x,deadline:b.toString(),useNative:e,createPool:i.noLiquidity}),u=h(),p={to:_.V3_NONFUNGIBLE_POSITION_MANAGER_ADDRESS[c],data:o,value:l,gasPrice:u};s&&s(!1),d(!0),f.getSigner().sendTransaction(p).then(e=>{w(e,{summary:i.noLiquidity?`Create pool and add ${t?.symbol}/${r?.symbol} liquidity`:`Add ${t?.symbol}/${r?.symbol} liquidity`}),n(),C((0,v.C7)({txHash:e.hash}))}).catch(e=>{console.error("Failed to send transaction",e),s&&s(!0),d(!1);let t=(0,K.Z)(e);e?.code!==4001&&(console.error(e),t&&y({txn:{hash:"",summary:t,success:!1}}))})}}return(0,m.jsxs)("div",{className:"flex w-full gap-4",children:[O&&(0,m.jsx)("button",{className:"flex items-center justify-center w-full mt-4 text-sm font-bold rounded h-14 md:font-medium md:text-lg focus:outline-none focus:ring text-high-emphesis ButtonV2",disabled:!!M,onClick:T,children:M||"Wrap TLOS"}),(0,m.jsx)("button",{className:"flex items-center justify-center w-full mt-4 text-sm font-bold rounded h-14 md:font-medium md:text-lg focus:outline-none focus:ring text-high-emphesis ButtonV2",disabled:!D||o,onClick:G,children:B||i.errorMessage||"Add liquidity"})]})}var X=r(715194),H=((i=H||{})[i.VERY_LOW=0]="VERY_LOW",i[i.LOW=1]="LOW",i[i.MEDIUM=2]="MEDIUM",i[i.HIGH=3]="HIGH",i);function J(e){let{isStablecoinPair:t,activePreset:r,handlePresetRangeSelection:i,priceLower:n,price:s,priceUpper:a}=e,o=(0,l.useMemo)(()=>t?[{type:X.s.STABLE,title:"Stablecoin",min:.984,max:1.016,risk:H.VERY_LOW,profit:H.HIGH}]:[{type:X.s.FULL,title:"Full range",min:0,max:1/0,risk:H.VERY_LOW,profit:H.VERY_LOW},{type:X.s.SAFE,title:"Safe",min:.8,max:1.4,risk:H.LOW,profit:H.LOW},{type:X.s.NORMAL,title:"Common",min:.9,max:1.2,risk:H.MEDIUM,profit:H.MEDIUM},{type:X.s.RISK,title:"Expert",min:.95,max:1.1,risk:H.HIGH,profit:H.HIGH}],[t]),d=(0,l.useMemo)(()=>{if(!a||!n||!s)return;let e=100-+s/+a*100,t=Math.abs(100-+s/+n*100),r=+n>+s&&+a>0?e-t:e+t;return r<7.5?5:r<15?(15-r)/7.5+4:r<30?(30-r)/15+3:r<60?(60-r)/30+2:r<120?(120-r)/60+1:1},[s,n,a]),c=(0,l.useMemo)(()=>{let e=[],t=d?.toString().split(".");if(t){for(let r=0;r<5;r++)r<+t[0]?e.push(100):r===+t[0]?e.push(100*parseFloat("0."+t[1])):e.push(0);return e}},[d]);return(0,m.jsxs)("div",{className:"w-full relative",children:[(0,m.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 freezer",children:o.map((e,t)=>(0,m.jsx)("button",{className:`rounded bg-dark-card text-base text-white text-left text-center px-4 py-2 ${r===e.type&&"bg-violet-button hover:bg-violet-button"}`,onClick:()=>{r===e.type?i(null):i(e)},children:(0,m.jsx)("h4",{children:e.title})},`range-button-${t}`))}),c&&!t&&(0,m.jsxs)("div",{className:"flex gap-4 freezer text-base text-white whitespace-nowrap w-full mt-4 rounded border-solid left-4 top-20 md:left-0 md:top-32",children:[(0,m.jsxs)("div",{className:"flex flex-col w-full gap-2 px-4 py-2 rounded bg-dark-card",children:[(0,m.jsx)("h5",{children:"Risk"}),(0,m.jsx)("div",{className:"flex gap-[5px]",children:[1,2,3,4,5].map((e,t)=>(0,m.jsx)("div",{className:"w-3.5 h-3.5 bg-[#42495e] overflow-hidden rounded-full",children:(0,m.jsx)("div",{className:"relative bg-violet-button h-3.5",style:{left:`calc(-100% + ${c[t]}%)`}},t)},t))})]}),(0,m.jsxs)("div",{className:"flex flex-col w-full gap-2 px-4 py-2 rounded bg-dark-card",children:[(0,m.jsx)("h5",{children:"Profit"}),(0,m.jsx)("div",{className:"flex gap-[5px]",children:[1,2,3,4,5].map((e,t)=>(0,m.jsx)("div",{className:"w-3.5 h-3.5 bg-[#42495e] overflow-hidden rounded-full",children:(0,m.jsx)("div",{className:"relative bg-violet-button h-3.5",style:{left:`calc(-100% + ${c[t]}%)`}},t)},t))})]})]})]})}var Q=r(132601);function ee(e){let{priceLower:t,priceUpper:r,onLeftRangeInput:i,onRightRangeInput:n,getDecrementLower:s,getIncrementLower:a,getDecrementUpper:o,getIncrementUpper:l,currencyA:d,currencyB:c,disabled:u,mintInfo:p}=e,f=(d??void 0)?.wrapped,x=(c??void 0)?.wrapped,h=f&&x&&f.sortsBefore(x),g=h?t:r?.invert(),b=h?r:t?.invert();return(0,m.jsx)(m.Fragment,{children:(0,m.jsxs)("div",{className:"flex flex-col justify-between gap-4 md:flex-row",children:[(0,m.jsx)("div",{className:"w-full mb-4 md:mb-0",children:(0,m.jsx)(et,{value:p.ticksAtLimit[h?v.Mb.LOWER:v.Mb.UPPER]?"0":g?.toSignificant(5)??"",onUserInput:i,width:"100%",decrement:h?s:l,increment:h?a:o,decrementDisabled:p.ticksAtLimit[h?v.Mb.LOWER:v.Mb.UPPER],incrementDisabled:p.ticksAtLimit[h?v.Mb.LOWER:v.Mb.UPPER],label:g?`${c?.symbol}`:"-",tokenA:d??void 0,tokenB:c??void 0,initialPrice:p.price,disabled:u,title:Q.ag._("Min price")})}),(0,m.jsx)("div",{className:"w-full mt-4 md:mt-0",children:(0,m.jsx)(et,{value:p.ticksAtLimit[h?v.Mb.UPPER:v.Mb.LOWER]?"∞":b?.toSignificant(5)??"",onUserInput:n,decrement:h?o:a,increment:h?l:s,incrementDisabled:p.ticksAtLimit[h?v.Mb.UPPER:v.Mb.LOWER],decrementDisabled:p.ticksAtLimit[h?v.Mb.UPPER:v.Mb.LOWER],label:b?`${c?.symbol}`:"-",tokenA:d??void 0,tokenB:c??void 0,initialPrice:p.price,disabled:u,title:Q.ag._("Max price")})})]})})}function et(e){let{value:t,decrement:r,increment:i,decrementDisabled:n=!1,incrementDisabled:s=!1,locked:a,onUserInput:o,disabled:d,title:c}=e,{0:u,1:p}=(0,l.useState)(""),{0:f,1:x}=(0,l.useState)(!1),h=(0,N.T)(),g=(0,l.useCallback)(()=>{x(!1),o(u)},[u,o]),b=(0,l.useCallback)(()=>{x(!1),o(r())},[r,o]),y=(0,l.useCallback)(()=>{x(!1),o(i())},[i,o]);return(0,l.useEffect)(()=>{u===t||f||setTimeout(()=>{p(t)},0)},[u,f,t]),(0,m.jsxs)("div",{className:"px-4 py-2 bg-dark-card rounded-xl",children:[(0,m.jsxs)("div",{className:"flex items-center text-white",children:[(0,m.jsx)("div",{className:"font-700",children:c}),(0,m.jsxs)("div",{className:"ml-auto",children:[(0,m.jsx)("button",{onClick:b,disabled:n||d,className:"bg-transparent text-xs text-white border-[3px] w-[22px] h-[22px] pl-px pr-0 pb-px rounded-full border-solid border-[#383840] first-of-type:mr-[5px] disabled:opacity-60 disabled:cursor-default enabled:hover:bg-[#2a4559]",children:"-"}),(0,m.jsx)("button",{onClick:y,disabled:s||d,className:"bg-transparent text-xs text-white border-[3px] w-[22px] h-[22px] pl-px pr-0 pb-px rounded-full border-solid border-[#383840] first-of-type:mr-[5px] disabled:opacity-60 disabled:cursor-default enabled:hover:bg-[#2a4559]",children:"+"})]})]}),(0,m.jsx)("div",{className:"flex relative freezer items-center inp_bx_bg !px-0",children:(0,m.jsx)("input",{value:u,id:c,onBlur:g,onFocus:()=>{x(!0)},className:"bg-transparent text-left rounded !w-full",disabled:d||a,onChange:e=>{p(e.target.value.trim()),h((0,v.lM)({preset:null}))},placeholder:"0.00"})})]})}var er=r(688587),ei=r.n(er),en=r(939499),es=r.n(en),ea=r(719130);function eo(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,i)}return r}var el=r(429009),ed=r(133097),ec=r(726050),eu=r(3023),ep=r(182633),em=r(743815);let ef=e=>{let{x:t,y:r,width:i,height:n,fill:s,percent:a,isCurrent:o}=e;return(0,m.jsxs)("g",{children:[(0,m.jsx)("defs",{children:(0,m.jsxs)("linearGradient",{id:"colorUv",x1:"0",y1:"0",x2:"0",y2:"100%",children:[(0,m.jsx)("stop",{offset:"0",stopColor:"#5161f2"}),(0,m.jsx)("stop",{offset:"1",stopColor:"transparent"})]})}),(0,m.jsx)("rect",{x:t,y:r,fill:s,width:i,height:n,rx:"4"}),a&&(0,m.jsx)("text",{x:t+10,y:r-10,fill:"white",fontSize:"14px",textAnchor:"middle",children:`${a.toFixed(0)}%`}),o&&(0,m.jsx)("text",{x:t+10,y:r-10,fill:"white",fontSize:"14px",textAnchor:"middle",children:"Current Price"})]})},ex=e=>{let{props:t,currencyA:r,currencyB:i,currentPrice:n,isSorted:s}=e,a=s?t?.payload?.[0]?.payload.price0:t?.payload?.[0]?.payload.price1,o=s?t?.payload?.[0]?.payload.price1:t?.payload?.[0]?.payload.price0,l=t?.payload?.[0]?.payload.tvlToken0,d=t?.payload?.[0]?.payload.tvlToken1;return(0,m.jsxs)("div",{className:"flex flex-col gap-2 p-4 rounded bg-[#13192894] backdrop-blur-sm",children:[(0,m.jsxs)("div",{className:"flex gap-4 justify-between",children:[(0,m.jsx)("div",{children:`${r?.symbol} Price:`}),(0,m.jsx)("div",{children:`${a?`${Number(a).toLocaleString(void 0,{maximumSignificantDigits:3})} ${i?.symbol}`:""}`})]}),(0,m.jsxs)("div",{className:"flex gap-4 justify-between",children:[(0,m.jsx)("div",{children:`${i?.symbol} Price:`}),(0,m.jsx)("div",{children:`${o?`${Number(o).toLocaleString(void 0,{maximumSignificantDigits:3})} ${r?.symbol}`:""}`})]}),n&&a&&n>o?(0,m.jsxs)("div",{className:"flex gap-4 justify-between",children:[(0,m.jsx)("div",{children:`${r?.symbol} Locked: `}),(0,m.jsx)("div",{children:`${l?(0,b.uf)(l):""} ${r?.symbol}`})]}):(0,m.jsxs)("div",{className:"flex gap-4 justify-between",children:[(0,m.jsx)("div",{children:`${i?.symbol} Locked: `}),(0,m.jsx)("div",{children:`${d?(0,b.uf)(d):""} ${i?.symbol}`})]})]})};function eh(e){let{formattedData:t,currencyA:r,currencyB:i,leftPrice:n,rightPrice:s,currentPrice:a,isSorted:o,zoom:d}=e,{0:c,1:u}=(0,l.useState)(null);return(0,m.jsx)(el.h,{width:"100%",height:300,children:(0,m.jsxs)(ed.v,{data:t,margin:{top:20,right:20,left:20,bottom:20},barCategoryGap:d>30?3:1.5,onMouseMove:e=>{e.isTooltipActive?u(e.activeTooltipIndex):u(null)},children:[(0,m.jsx)(ec.u,{cursor:!1,content:e=>(0,m.jsx)(ex,{props:e,currencyA:r,currencyB:i,currentPrice:a,isSorted:o})}),(0,m.jsx)(eu.K,{reversed:o,tick:e=>{if(e?.payload&&e.index%2!=0)return(0,m.jsx)("text",{x:e.x,y:e.y+20,fill:"white",textAnchor:"middle",fontSize:"12px",width:"12px",children:e.payload.value.toFixed(3)})},dataKey:o?"price0":"price1",interval:10,offset:0,tickLine:!1,tickFormatter:e=>e.toFixed(3)}),(0,m.jsx)(ep.$,{dataKey:"activeLiquidity",fill:"#2172E5",isAnimationActive:!1,shape:e=>{let r;let i=e[o?"price0":"price1"];if(i===+Number(n).toFixed(8)||i===+Number(s).toFixed(8)){let i=t.findIndex(e=>e.isCurrent),n=t[i].index;r=(o?1:-1)*(e.payload.index<n?-1:1)*((Math.max(e.payload.index,n)-Math.min(e.payload.index,n))/n)*100}return(0,m.jsx)(ef,{height:e.height,width:e.width,x:e.x,y:e.y,fill:e.fill,percent:r,isCurrent:e.isCurrent})},children:t?.map((e,t)=>{let r="#3b3c4e",i=o?e.price0:e.price1;return c===t?r="#5161f2":e.isCurrent?r="white":n&&s&&Number(i)>=Number(n)&&Number(i)<=Number(s)&&(r="url(#colorUv)"),m.jsx(em.b,{fill:r},`cell-${t}`)})})]})})}var eg=r(404222);function eb(e){let{currencyA:t,currencyB:r,priceLower:i,priceUpper:n,currentPrice:s,activePreset:o}=e,{fetchTicksSurroundingPrice:{ticksResult:d,fetchTicksSurroundingPrice:c}}=function(){let{chainId:e}=(0,p.Z)(),{0:t,1:r}=(0,l.useState)(null),{0:i,1:n}=(0,l.useState)(!1);async function s(t,r,i){let n=[],s=[],a=0;do{let o=await (0,ea.Q_)(e,{poolAddress:t,tickIdxLowerBound:r,tickIdxUpperBound:i,skip:a});if(!o)return{loading:!0,ticks:s};n=o,s=s.concat(n),a+=1e3}while(n.length>0);return{ticks:s,loading:!1,error:!1}}return{fetchTicksSurroundingPrice:{ticksResult:t,ticksLoading:i,fetchTicksSurroundingPrice:async function(t,i){n(!0);let o=(0,a.d_)({poolDeployer:_.V3_ALGEBRA_POOL_DEPLOYER_ADDRESS[e],tokenA:t.wrapped,tokenB:i.wrapped});try{let t=await (0,ea.kI)(e,{poolId:o.toLowerCase()});if(!t)return;let{tick:i,liquidity:n,token0:{id:l,decimals:d},token1:{id:c,decimals:u}}=t,p=Number(t.tickSpacing),m=parseInt(i),f=Math.floor(m/p)*p,x=f-500*p,h=f+500*p,b=await s(o.toLowerCase(),x,h);if(b.error||b.loading)return{error:b.error,loading:b.loading};let{ticks:N}=b,v=ei()(N,"tickIdx"),y=new g.Token(1,l,parseInt(d)),C=new g.Token(1,c,parseInt(u)),R=f;R<a.pk.MIN_TICK&&(R=a.pk.MIN_TICK),R>a.pk.MAX_TICK&&(R=a.pk.MAX_TICK);let j={liquidityActive:es().BigInt(n),tickIdx:f,liquidityNet:es().BigInt(0),price0:(0,a.zz)(y,C,R).toFixed(8),price1:(0,a.zz)(C,y,R).toFixed(8),liquidityGross:es().BigInt(0)},E=v[f];E&&(j.liquidityGross=es().BigInt(E.liquidityGross),j.liquidityNet=es().BigInt(E.liquidityNet));let A={ASC:"ASC",DESC:"DESC"},S=(e,t,r,i)=>{let n=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?eo(Object(r),!0).forEach(function(t){(0,w.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):eo(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({},e),s=[];for(let e=0;e<r;e++){let e=i==A.ASC?n.tickIdx+t:n.tickIdx-t;if(e<a.pk.MIN_TICK||e>a.pk.MAX_TICK)break;let r={liquidityActive:n.liquidityActive,tickIdx:e,liquidityNet:es().BigInt(0),price0:(0,a.zz)(y,C,e).toFixed(8),price1:(0,a.zz)(C,y,e).toFixed(8),liquidityGross:es().BigInt(0)},o=v[e.toString()];o&&(r.liquidityGross=es().BigInt(o.liquidityGross),r.liquidityNet=es().BigInt(o.liquidityNet)),i==A.ASC&&o?r.liquidityActive=es().add(n.liquidityActive,es().BigInt(o.liquidityNet)):i==A.DESC&&es().notEqual(n.liquidityNet,es().BigInt(0))&&(r.liquidityActive=es().subtract(n.liquidityActive,n.liquidityNet)),s.push(r),n=r}return i==A.DESC&&(s=s.reverse()),s},k=S(j,p,500,A.ASC),O=S(j,p,500,A.DESC).concat(j).concat(k);r({ticksProcessed:O,tickSpacing:Number(p),activeTickIdx:f,token0:y,token1:C})}catch(e){throw Error(e)}finally{n(!1)}}}}}(),{0:u,1:f}=(0,l.useState)(null),{0:x,1:h}=(0,l.useState)(40);(0,l.useEffect)(()=>{t&&r&&c(t,r)},[t,r]),(0,l.useEffect)(()=>{d&&d.ticksProcessed&&e();async function e(){f(await Promise.all(d.ticksProcessed.map(async(e,i)=>{let n=e.tickIdx===d.activeTickIdx,s=a.pk.getSqrtRatioAtTick(e.tickIdx),o=[{index:e.tickIdx-d.tickSpacing,liquidityGross:e.liquidityGross,liquidityNet:g.JSBI.multiply(e.liquidityNet,g.JSBI.BigInt("-1"))},{index:e.tickIdx,liquidityGross:e.liquidityGross,liquidityNet:e.liquidityNet}],[l,c]=t.wrapped.sortsBefore(r.wrapped)?[t.wrapped,r.wrapped]:[r.wrapped,t.wrapped],u=l&&c?new a.Kg(l,c,a.lB,s,e.liquidityActive,e.tickIdx,d.tickSpacing,o):void 0,p=d.ticksProcessed[i-1]?a.pk.getSqrtRatioAtTick(d.ticksProcessed[i-1].tickIdx):void 0,m=l?g.CurrencyAmount.fromRawAmount(l,eg.Bz.toString()):void 0,f=u&&m?await u.getOutputAmount(m,p):void 0,x=f?.[0],h=x?parseFloat(x.toExact())*parseFloat(e.price1):0,b=x?parseFloat(x.toExact()):0,N=parseFloat(e.liquidityActive.toString());return{index:i,isCurrent:n,activeLiquidity:n?N+.2*N:N,price0:parseFloat(e.price0),price1:parseFloat(e.price1),tvlToken0:h,tvlToken1:b}})))}},[d]),(0,l.useEffect)(()=>{if(null!==o)switch(o){case X.s.FULL:h(10);break;case X.s.NORMAL:h(25);break;case X.s.RISK:h(30);break;case X.s.SAFE:h(15);break;case X.s.STABLE:h(40)}},[o]);let b=(0,l.useMemo)(()=>{if(!u||u&&0===u.length)return;let e=Math.round(u.length/2),t=Math.round(u.length/x);return u.slice(e-t,e+t).reverse()},[u,x]),N=t&&r&&t?.wrapped.sortsBefore(r?.wrapped),v=N?i?.toSignificant(18):n?.invert().toSignificant(18),y=N?n?.toSignificant(18):i?.invert().toSignificant(18),C=x-5<=10,R=x+5>40;return(0,m.jsxs)("div",{className:"relative w-full h-full",children:[(0,m.jsx)(eh,{formattedData:b,leftPrice:v,rightPrice:y,currentPrice:s,isSorted:N,zoom:x,currencyA:t,currencyB:r}),(0,m.jsxs)("div",{className:"absolute flex gap-2 top-2 right-2",children:[(0,m.jsx)("button",{disabled:C,onClick:()=>h(e=>e-5),className:"rounded-full border-[3px] border-[#42495e] bg-[#131928] hover:bg-[#202b45] px-2 py-1",children:"-"}),(0,m.jsx)("button",{disabled:R,onClick:()=>h(e=>e+5),className:"rounded-full border-[3px] border-[#42495e] bg-[#131928] hover:bg-[#202b45] px-2 py-1",children:"+"})]})]})}function eN(e){let{currencyA:t,currencyB:r,mintInfo:i,handleCurrencySwap:n}=e,{i18n:a}=(0,A.mV)(),{startPriceTypedValue:o,typedValue:d,independentField:c}=(0,s.KS)(),{0:u,1:p}=(0,l.useState)(!1),f=(0,N.T)(),x=(0,s.Ne)(),h=(0,l.useMemo)(()=>{if(!t||!r)return!1;let e=[].map(e=>e.toLowerCase());return e.includes(t.wrapped.address.toLowerCase())&&e.includes(r.wrapped.address.toLowerCase())},[t,r]),{[v.Mb.LOWER]:g,[v.Mb.UPPER]:b}=(0,l.useMemo)(()=>i.ticks,[i]),{[v.Mb.LOWER]:y,[v.Mb.UPPER]:C}=(0,l.useMemo)(()=>i.pricesAtTicks,[i]),{getDecrementLower:R,getIncrementLower:w,getDecrementUpper:j,getIncrementUpper:S,getSetFullRange:k}=(0,s.a6)(t??void 0,r??void 0,i.tickSpacing,g,b,i.pool),{onLeftRangeInput:O,onRightRangeInput:I,onFieldAInput:P}=(0,s.EG)(i.noLiquidity),_=(t??void 0)?.wrapped,L=(r??void 0)?.wrapped,U=_&&L&&_.sortsBefore(L),T=U?y:C?.invert(),M=U?C:y?.invert(),D=(0,l.useMemo)(()=>{if(i.price)return i.invertPrice?i.price.invert().toSignificant(5):i.price.toSignificant(5)},[i]),B=(0,l.useMemo)(()=>{if(i.price)return 1e-4>=Number(D)?`< 0.0001 ${r?.symbol}`:`${D} ${r?.symbol}`},[i.price,r,D]),q={[c]:d,[i.dependentField]:i.parsedAmounts[i.dependentField]?.toSignificant(6)??""},Y=(0,l.useCallback)(e=>{if(!i.price)return;f((0,v.lM)({preset:e?e.type:null}));let t=i.invertPrice?i.price.invert().toSignificant(5):i.price.toSignificant(5);e&&e.type===X.s.FULL?k():(O(e?String(+t*e.min):""),I(e?String(+t*e.max):""))},[i]),$=(0,l.useMemo)(()=>!!_&&["cUSD","USDY","mUSD","USDT","USDC","DAI","FRAX","USDP"].includes(_.symbol),[_]),F=()=>{i.ticksAtLimit[v.Mb.LOWER]||i.ticksAtLimit[v.Mb.UPPER]||(O((i.invertPrice?y:C?.invert())?.toSignificant(6)??""),I((i.invertPrice?C:y?.invert())?.toSignificant(6)??""),P(q[v.gN.CURRENCY_B]??"")),n()};return(0,l.useEffect)(()=>{$&&!u&&F()},[$,u]),(0,m.jsx)("div",{className:"flex flex-col w-full gap-4 freezer",children:(0,m.jsxs)("div",{className:"flex flex-col w-full gap-4",children:[(0,m.jsx)(J,{isStablecoinPair:h,activePreset:x,handlePresetRangeSelection:Y,priceLower:T?.toSignificant(5),priceUpper:M?.toSignificant(5),price:D}),(0,m.jsxs)("div",{className:"flex items-center justify-between px-4 py-2 rounded bg-dark-card",children:[(0,m.jsxs)("div",{className:"flex gap-2 ",children:[(0,m.jsx)("h5",{children:"Current Price:"}),B?(0,m.jsx)("h5",{children:`${B} per ${t?.symbol}`}):(0,m.jsx)(E.Z,{size:"14px",stroke:"white"})]}),(0,m.jsxs)("button",{className:"flex gap-2 rounded-lg font-semibold bg-[#3b3c4e]/50 p-1",onClick:()=>{F(),p(!0)},children:[(0,m.jsx)("span",{className:"px-2 py-1 rounded-md bg-dark-card",children:t?.symbol}),(0,m.jsx)("span",{className:"px-2 py-1 rounded-md",children:r?.symbol})]})]}),(0,m.jsxs)("div",{className:"w-full bg-dark-card border rounded border-solid border-[#1a1a1b] min-h-[250px]",children:[(0,m.jsx)(eb,{currencyA:t??void 0,currencyB:r??void 0,currentPrice:D?parseFloat(D):void 0,priceLower:y,priceUpper:C,activePreset:x}),i.outOfRange&&(0,m.jsx)("div",{className:"relative text-center p-2 rounded-b bg-[#292305] text-[#f3a91b] border-t-[#583b0d] border-t border-solid",children:a._(a._("Out of range"))}),i.invalidRange&&(0,m.jsx)("div",{className:"relative text-center p-2 rounded-b bg-[#290505] text-[#f31b1b] border-t-[#580d0d] border-t border-solid w-full",children:a._(a._("Invalid range"))})]}),(0,m.jsx)("div",{className:"mb-4",children:(0,m.jsx)(ee,{priceLower:y,priceUpper:C,getDecrementLower:R,getIncrementLower:w,getDecrementUpper:j,getIncrementUpper:S,onLeftRangeInput:O,onRightRangeInput:I,currencyA:t,currencyB:r,mintInfo:i,initial:!!i.noLiquidity,disabled:!o&&!i.price})})]})})}var ev=r(741739),ey=r(172895);function eC(e){let{isNewPool:t,baseCurrency:r,quoteCurrency:i,mintInfo:n,afterCreation:s}=e,{chainId:o}=(0,p.Z)(),{getGasPrice:d}=(0,W.Z)(),c=(0,F.oe)(),u=(0,$.h7)(),{0:f,1:x}=(0,l.useState)(!1),{sendTx:h}=(0,ev.v)(),b=async()=>{x(!0);let[e,t]=n.invertPrice?[i.wrapped.address,r.wrapped.address]:[r.wrapped.address,i.wrapped.address],l=(0,a.jv)(n.price.numerator,n.price.denominator);try{let n=d(),p=(0,a.d_)({poolDeployer:_.V3_ALGEBRA_POOL_DEPLOYER_ADDRESS[o],tokenA:new g.Token(o,e,18),tokenB:new g.Token(o,t,18)}),m=await c.createAndInitializePoolIfNecessary(e,t,(0,a._s)(l),{gasPrice:n});u(m,{summary:`Create New Pool for ${r.symbol} / ${i.symbol}`}),await h(()=>m),s(p)}catch(e){}finally{x(!1)}},N=r&&i&&ey.K$[o]?.some(e=>[r.wrapped.address,i.wrapped.address].includes(e.address)),v=n.invalidPrice||!n.price||!t||N;return(0,m.jsx)("button",{className:"flex items-center justify-center w-full mt-4 text-sm font-bold rounded h-14 md:font-medium md:text-lg focus:outline-none focus:ring text-high-emphesis ButtonV2",disabled:v||f,onClick:b,children:f?(0,m.jsx)(E.Z,{size:"18px",stroke:"white"}):"Create New Pool"})}var eR=r(741664),ew=r.n(eR),ej=r(445169),eE=r(322321),eA=r(180976);function eS(e){let{pool:t,newPool:r}=e,{account:i,chainId:o}=(0,p.Z)(),{0:d,1:c}=(0,l.useState)(""),{0:u,1:f}=(0,l.useState)(""),{0:x,1:y}=(0,l.useState)(""),{0:w,1:j}=(0,l.useState)(""),{0:E,1:A}=(0,l.useState)(!1);(0,l.useEffect)(()=>{t&&(c(t.token0.id),f(t.token1.id))},[t]);let k=(0,N.T)(),O=(0,n.U8)(d&&d.toLowerCase()===S.g9[o].address.toLowerCase()?"AVAX":d),I=(0,n.U8)(u&&u.toLowerCase()===S.g9[o].address.toLowerCase()?"AVAX":u),P=O&&I&&O.wrapped.equals(I.wrapped)?void 0:I,L=(0,s.m2)(O??void 0,P??void 0,a.lB,O??void 0,void 0),{onStartPriceInput:U}=(0,s.EG)(L.noLiquidity),T=(e,t)=>{let r;let i=(0,b.Hh)(e);if(o in[g.ChainId.MANTLE,g.ChainId.MANTLE_TESTNET,g.ChainId.TELOS,g.ChainId.TELOS_TESTNET,g.ChainId.TAIKO,g.ChainId.TAIKO_TESTNET]&&(r="AVAX"),D(),i.toLowerCase()===t?.toLowerCase())return[i,void 0];{let e=i===r||void 0!==o&&i===S.FX[o]?.address,n=void 0!==t&&(t===r||void 0!==o&&t===S.FX[o]?.address);return e&&n?[i,void 0]:[i,t]}},M=()=>{c(u),f(d),D()},D=()=>{k((0,v.lM)({preset:null})),k((0,v.n$)({typedValue:""})),U(""),j("")};(0,l.useEffect)(()=>{k((0,v.dA)())},[]);let q=L.noLiquidity&&L.poolState===R.tK.NOT_EXISTS,Y=(0,l.useMemo)(()=>eE.b[o]?.chainName.toLowerCase(),[]);if(O&&P){let e=(0,a.d_)({poolDeployer:_.V3_ALGEBRA_POOL_DEPLOYER_ADDRESS[o],tokenA:new g.Token(o,O?.wrapped.address,Number(O?.wrapped.decimals||0)),tokenB:new g.Token(o,P?.wrapped.address,Number(P?.wrapped.decimals||0))});e!==x&&y(e)}return(0,m.jsxs)("div",{className:"flex flex-col w-full gap-0",children:[r&&(0,m.jsx)("h3",{className:"mb-3",children:"Select Pair"}),r&&(0,m.jsx)(h,{baseCurrency:O,quoteCurrency:P,mintInfo:L,handleCurrencyASelect:e=>{let[t,r]=T(e,u);c(t)},handleCurrencyBSelect:e=>{let[t,r]=T(e,d);f(t)},handleCurrencySwap:M,isDisabled:!!t}),q&&r&&(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)("h3",{className:"my-3",children:"Set initial price"}),(0,m.jsx)(C,{currencyA:O,currencyB:P,mintInfo:L})]}),!r&&(0,m.jsx)(eN,{currencyA:O,currencyB:P,mintInfo:L,handleCurrencySwap:M}),!r&&(0,m.jsx)(B,{currencyA:O,currencyB:P,mintInfo:L}),r&&!q&&O&&P&&!w&&(0,m.jsx)(ew(),{legacyBehavior:!0,href:`/liquidity/v3/${Y}/${x}`,children:(0,m.jsxs)("a",{className:"inline-flex w-full gap-4 mt-3 text-white",children:[(0,m.jsx)(ej.Z,{size:"16px"}),(0,m.jsx)("span",{children:"Browse to the existing pool"})]})}),w&&(0,m.jsx)(ew(),{legacyBehavior:!0,href:`/liquidity/v3/${Y}/${w}`,children:(0,m.jsxs)("a",{className:"inline-flex w-full gap-4 mt-3 text-white",children:[(0,m.jsx)("span",{children:"Pool successfully created!"}),(0,m.jsx)(ej.Z,{size:"16px"})]})}),i?r?(0,m.jsx)(eC,{baseCurrency:O??void 0,quoteCurrency:P??void 0,mintInfo:L,isNewPool:q,afterCreation:e=>j(e)}):(0,m.jsx)(G,{baseCurrency:O??void 0,quoteCurrency:P??void 0,mintInfo:L,handleAddLiquidity:()=>{k((0,v.dA)()),k((0,v._Q)(!0)),A(!1),"undefined"!=typeof document&&document.getElementById("newPositionNotification").scrollIntoView({behavior:"smooth"})},isLocked:E,setIsLocked:e=>A(e)}):(0,m.jsx)("button",{className:"flex items-center justify-center text-sm font-bold rounded h-14 md:font-medium md:text-lg focus:outline-none focus:ring text-high-emphesis ButtonV2",onClick:()=>openWeb3Modal(),children:"Connect Wallet"}),(0,m.jsx)(eA.Z,{})]})}},172895:function(e,t,r){r.d(t,{K$:function(){return o}});var i=r(341276),n=r(673014),s=r(626880);i.ChainId.MANTLE,i.ChainId.ETHEREUM,i.ChainId.MATIC,i.ChainId.TELOS_TESTNET,i.ChainId.TELOS,i.ChainId.MANTLE,i.ChainId.MANTLE_TESTNET,i.ChainId.TAIKO_TESTNET,i.ChainId.TAIKO;let a={MAINNET:56,TESTNET:97};a.MAINNET,a.TESTNET,s.Z[i.ChainId.ETHEREUM],s.Z[i.ChainId.BSC],s.Z[i.ChainId.MATIC],s.Z[i.ChainId.AVALANCHE],s.Z[i.ChainId.FANTOM],s.Z[i.ChainId.ARBITRUM],s.Z[i.ChainId.OPTIMISM],s.Z[i.ChainId.TELOS],s.Z[i.ChainId.MANTLE],s.Z[i.ChainId.TAIKO];let o={[i.ChainId.TELOS]:[n.jz[i.ChainId.TELOS],n.k7[i.ChainId.TELOS]],[i.ChainId.MANTLE]:[n.k7[i.ChainId.MANTLE]]}},741739:function(e,t,r){r.d(t,{v:function(){return n}});var i=r(569383);function n(){let e=(0,i.i$)();return{sendTx:async function(t){let r=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=!0;try{let n=await t();if(n){if(4001===n.code)return e({txn:{hash:"na",success:!1,summary:"Transaction rejected by user"}}),!1;if(n?.code===3e3)return console.log("Transaction failed:",n),e({txn:{hash:"na",success:!1,summary:"User our of gas"}}),!1;if(n?.code===-32603)return console.log("Transaction failed:",n),e({txn:{hash:"na",success:!1,summary:n?.data?.message?"Contract Error: "+n?.data?.message:"Execution Reverted"}}),!1;if(n?.error)return console.log("Transaction failed:",n),e({txn:{hash:"na",success:!1,summary:"Transaction failed"}}),!1;if(r){console.log("Waiting for confirmation...");let e=await n.wait();1===e.status?i=!0:(console.log("Transaction failed or reverted."),i=!1)}}}catch(t){if(console.error(t),t?.code===-32603)return t?.data?.message?e({txn:{hash:"na",success:!1,summary:"Wallet: "+t?.data?.message}}):e({txn:{hash:"na",success:!1,summary:"Wallet: Internal JSON-RPC error"}}),!1;i=!1}return i}}}},764093:function(e,t,r){r.d(t,{Z:function(){return h},k:function(){return f}});var i,n=r(341276),s=r(816364),a=r(939507),o=r(828465),l=r(884081),d=r(667294),c=r(86083),u=r(330214),p=r(673014),m=r(707973);let f=((i={})[i.NOT_APPLICABLE=0]="NOT_APPLICABLE",i[i.WRAP=1]="WRAP",i[i.UNWRAP=2]="UNWRAP",i),x={wrapType:f.NOT_APPLICABLE};function h(e,t,r){let{chainId:i,account:h}=(0,a.Z)(),{getGasPrice:g}=(0,u.Z)(),b=(0,c.lz)(),N=(0,l._h)(h??void 0,e),v=(0,d.useMemo)(()=>(0,s.e)(r,e),[e,r]),y=(0,o.h7)();return(0,d.useMemo)(()=>{if(!b||!i||!e||!t||i===n.ChainId.CELO)return x;let r=p.FX[i];if(!r)return x;let s=!!v?.greaterThan("0"),a=v&&N&&!N.lessThan(v),o=g();return e.isNative&&r.equals(t)?{wrapType:f.WRAP,execute:a&&v?async()=>{try{let e=await b.deposit({value:`0x${v.quotient.toString(16)}`,gasPrice:o});y(e,{summary:`Wrap ${v.toSignificant(6)} ${m.B[i].symbol} to ${p.FX[i].symbol}`})}catch(e){console.error("Could not deposit",e)}}:void 0,inputError:a?void 0:s?`Insufficient ${m.B[i].symbol} balance`:`Enter ${m.B[i].symbol} amount`}:r.equals(e)&&t.isNative?{wrapType:f.UNWRAP,execute:a&&v?async()=>{try{let e=await b.withdraw(`0x${v.quotient.toString(16)}`,{gasPrice:o});y(e,{summary:`Unwrap ${v.toSignificant(6)} ${p.FX[i].symbol} to ${m.B[i].symbol}`})}catch(e){console.error("Could not withdraw",e)}}:void 0,inputError:a?void 0:s?`Insufficient ${p.FX[i].symbol} balance`:`Enter ${p.FX[i].symbol} amount`}:x},[b,i,e,t,v,N,y,g])}},258434:function(e,t,r){r.d(t,{O:function(){return u}});var i=r(353487),n=r(600840),s=r(939507),a=r(243475),o=r(667294),l=r(799767),d=r(86083),c=r(861744);function u(e,t,r){let{chainId:u}=(0,s.Z)(),p=e&&(0,l.d_)({poolDeployer:i.V3_ALGEBRA_POOL_DEPLOYER_ADDRESS[u],tokenA:e.token0,tokenB:e.token1}),m=(0,n.KZ)(u,p?.toLowerCase()),f=(0,n.mb)(p?.toLowerCase(),!1),x=(0,n.wm)(f?.rewardToken===i.ICE_ADDRESS[u]?i.SLUSH_ADDRESS[u]:f?.rewardToken),h=(0,n.wm)(f?.bonusRewardToken===i.ICE_ADDRESS[u]?i.SLUSH_ADDRESS[u]:f?.bonusRewardToken),g=(0,d.Gf)(f?.virtualPool),b=a.Wk(f?g:void 0,"currentLiquidity").result?.[0],N=(0,n.m8)(u);return{lpAPR:(0,o.useMemo)(()=>{let i=m&&!!m?.poolDayDatas.length&&m.poolDayDatas[0].feesUSD,n=i&&365*i,s=e&&t&&e.liquidity&&Number(t.liquidity.toString())/(Number(e.liquidity.toString())+(r?0:Number(t.liquidity.toString()))),[a,o]=t?[t.amount0.toSignificant(),t.amount1.toSignificant()]:[0,0],{token0:l,token1:d}=m&&m.pool||{},c=l&&d&&N&&Number(l.derivedMatic)*Number(N.maticPriceUSD)*Number(a)+Number(d.derivedMatic)*Number(N.maticPriceUSD)*Number(o);return s&&n&&c&&n*s/c*100},[p,m,e,t,r,N])||0,farmingAPR:(0,o.useMemo)(()=>{if(!f)return;let e=x?.token&&N?.maticPriceUSD&&Number((0,c.formatUnits)(f.rewardRate,x.token.decimals))*(Number(x.token.derivedMatic)*Number(N.maticPriceUSD)),i=h?.token&&N?.maticPriceUSD&&Number((0,c.formatUnits)(f.bonusRewardRate,h.token.decimals))*(Number(h.token.derivedMatic)*Number(N.maticPriceUSD)),n=e&&(e+(i||0))*31536e3,s=b&&t&&Number(t.liquidity.toString())/(Number(b)+(r?0:Number(t.liquidity.toString()))),[a,o]=t?[t.amount0.toSignificant(),t.amount1.toSignificant()]:[0,0],{token0:l,token1:d}=m&&m.pool||{},u=l&&d&&N&&Number(l.derivedMatic)*Number(N.maticPriceUSD)*Number(a)+Number(d.derivedMatic)*Number(N.maticPriceUSD)*Number(o);return s&&n&&u&&n*s/u*100},[p,e,t,r,f,N,b,x,h])||0}}},63995:function(e,t,r){r.d(t,{Ne:function(){return C},VR:function(){return R},a6:function(){return y},Ri:function(){return w},m2:function(){return v},EG:function(){return N},KS:function(){return b}});var i=r(667294),n=r(939499),s=r.n(n),a=r(889680),o=r(341276),l=r(799767);function d(e,t,r,i,n){let a;if(!e||!t||!r||!i||!n)return;let d=function(e,t,r){if(!e||!t||!r||!r.match(/^\d*\.?\d+$/))return;let[i,n]=r.split("."),a=n?.length??0,l=s().BigInt((i??"")+(n??""));return new o.Price(e,t,s().multiply(s().BigInt(10**a),s().BigInt(10**e.decimals)),s().multiply(l,s().BigInt(10**t.decimals)))}(e,t,i);if(!d)return;let c=(0,l.jv)(d.numerator,d.denominator);return a=s().greaterThanOrEqual(c,l.pk.MAX_SQRT_RATIO)?l.pk.MAX_TICK:s().lessThanOrEqual(c,l.pk.MIN_SQRT_RATIO)?l.pk.MIN_TICK:(0,l.Vm)(d),(0,l.Gp)(a,n)}var c=r(876029),u=r(519673),p=r(538578),m=r(534488);function f(e,t,r){if(e&&t&&"number"==typeof r)return(0,m.z)(e,t,r)}var x=r(572318),h=r(939507),g=r(884081);function b(){return(0,u.C)(e=>e.mintV3)}function N(e){let t=(0,u.T)(),r=(0,i.useCallback)(r=>{t((0,a.LC)({field:a.gN.CURRENCY_A,typedValue:r,noLiquidity:!0===e}))},[t,e]),n=(0,i.useCallback)(r=>{t((0,a.LC)({field:a.gN.CURRENCY_B,typedValue:r,noLiquidity:!0===e}))},[t,e]);return{onFieldAInput:r,onFieldBInput:n,onLeftRangeInput:(0,i.useCallback)(e=>{t((0,a.yw)({typedValue:e}))},[t]),onRightRangeInput:(0,i.useCallback)(e=>{t((0,a.ay)({typedValue:e}))},[t]),onStartPriceInput:(0,i.useCallback)(e=>{t((0,a.A8)({typedValue:e}))},[t])}}function v(e,t,r,n,u){let m,N;let{account:v,chainId:y}=(0,h.Z)(),{independentField:C,typedValue:R,leftRangeTypedValue:w,rightRangeTypedValue:j,startPriceTypedValue:E}=b(),A=C===a.gN.CURRENCY_A?a.gN.CURRENCY_B:a.gN.CURRENCY_A,S=(0,i.useMemo)(()=>({[a.gN.CURRENCY_A]:e,[a.gN.CURRENCY_B]:t}),[e,t]),{0:k,1:O,2:I}=(0,i.useMemo)(()=>[e?.wrapped,t?.wrapped,n?.wrapped],[e,t,n]),{0:P,1:_}=(0,i.useMemo)(()=>k&&O&&!k.equals(O)?k.sortsBefore(O)?[k,O]:[O,k]:[void 0,void 0],[k,O]),L=(0,g.K5)(v??void 0,[S[a.gN.CURRENCY_A]?.isNative&&y===o.ChainId.TELOS?S[a.gN.CURRENCY_A]?.wrapped:S[a.gN.CURRENCY_A],S[a.gN.CURRENCY_B]?.isNative&&y===o.ChainId.TELOS?S[a.gN.CURRENCY_B]?.wrapped:S[a.gN.CURRENCY_B]]),U={[a.gN.CURRENCY_A]:L[0],[a.gN.CURRENCY_B]:L[1]},[T,M]=(0,c.AI)(S[a.gN.CURRENCY_A],S[a.gN.CURRENCY_B]),D=T===c.tK.NOT_EXISTS,B=M?M.fee:100,q=M?M.tickSpacing:60,Y=!!(I&&P&&!I.equals(P)),$=(0,i.useMemo)(()=>{if(!D)return M&&P?M.priceOf(P):void 0;{let e=(0,p.eo)(E,Y?P:_);if(e&&P&&_){let t=(0,p.eo)("1",Y?_:P),r=t&&e?new o.Price(t.currency,e.currency,t.quotient,e.quotient):void 0;return(Y?r?.invert():r)??void 0}return}},[D,E,Y,_,P,M]),F=(0,i.useMemo)(()=>{let e=$?(0,l.jv)($.numerator,$.denominator):void 0;return $&&e&&!(s().greaterThanOrEqual(e,l.pk.MIN_SQRT_RATIO)&&s().lessThan(e,l.pk.MAX_SQRT_RATIO))},[$]),Z=(0,i.useMemo)(()=>{if(k&&O&&r&&$&&!F){let e=(0,l.Vm)($),t=l.pk.getSqrtRatioAtTick(e);return new l.Kg(k,O,r,t,s().BigInt(0),e,60,[])}},[r,F,$,k,O]),z=M??Z,K=(0,i.useMemo)(()=>({[a.Mb.LOWER]:q?(0,l.Gp)(l.pk.MIN_TICK,q):void 0,[a.Mb.UPPER]:q?(0,l.Gp)(l.pk.MAX_TICK,q):void 0}),[q]),W=(0,i.useMemo)(()=>({[a.Mb.LOWER]:"number"==typeof u?.tickLower?u.tickLower:Y&&"boolean"==typeof j||!Y&&"boolean"==typeof w?K[a.Mb.LOWER]:Y?d(_,P,r,j.toString(),q):d(P,_,r,w.toString(),q),[a.Mb.UPPER]:"number"==typeof u?.tickUpper?u.tickUpper:!Y&&"boolean"==typeof j||Y&&"boolean"==typeof w?K[a.Mb.UPPER]:Y?d(_,P,r,w.toString(),q):d(P,_,r,j.toString(),q)}),[u,r,Y,w,j,P,_,K,q]),{[a.Mb.LOWER]:V,[a.Mb.UPPER]:G}=W||{},X=(0,i.useMemo)(()=>({[a.Mb.LOWER]:r&&V===K.LOWER,[a.Mb.UPPER]:r&&G===K.UPPER}),[K,V,G,r]),H=!!("number"==typeof V&&"number"==typeof G&&V>=G),J=(0,i.useMemo)(()=>({[a.Mb.LOWER]:f(P,_,W[a.Mb.LOWER]),[a.Mb.UPPER]:f(P,_,W[a.Mb.UPPER])}),[P,_,W]),{[a.Mb.LOWER]:Q,[a.Mb.UPPER]:ee}=J,et=!!(!H&&$&&Q&&ee&&($.lessThan(Q)||$.greaterThan(ee))),er=(0,p.eo)(R,S[C]),ei=(0,i.useMemo)(()=>{let r=er?.wrapped,i=A===a.gN.CURRENCY_B?t:e;if(er&&r&&"number"==typeof V&&"number"==typeof G&&z){if(et||H)return;let e=r.currency.equals(z.token0)?l.Ly.fromAmount0({pool:z,tickLower:V,tickUpper:G,amount0:er.quotient,useFullPrecision:!0}):l.Ly.fromAmount1({pool:z,tickLower:V,tickUpper:G,amount1:er.quotient}),t=r.currency.equals(z.token0)?e.amount1:e.amount0;return i&&o.CurrencyAmount.fromRawAmount(i,t.quotient)}},[er,et,A,t,e,V,G,z,H]),en=(0,i.useMemo)(()=>({[a.gN.CURRENCY_A]:C===a.gN.CURRENCY_A?er:ei,[a.gN.CURRENCY_B]:C===a.gN.CURRENCY_A?ei:er}),[ei,er,C]),es=!!("number"==typeof G&&z&&z.tickCurrent>=G),ea=!!("number"==typeof V&&z&&z.tickCurrent<=V),eo=H||!!(es&&z&&k&&z.token0.equals(k)||ea&&z&&k&&z.token1.equals(k)),el=H||!!(es&&z&&O&&z.token0.equals(O)||ea&&z&&O&&z.token1.equals(O)),ed=(0,i.useMemo)(()=>{if(!z||!k||!O||"number"!=typeof V||"number"!=typeof G||H)return;let e=es?x.iV:en?.[k.equals(z.token0)?a.gN.CURRENCY_A:a.gN.CURRENCY_B]?.quotient,t=ea?x.iV:en?.[k.equals(z.token0)?a.gN.CURRENCY_B:a.gN.CURRENCY_A]?.quotient;return void 0!==e&&void 0!==t?l.Ly.fromAmounts({pool:z,tickLower:V,tickUpper:G,amount0:e,amount1:t,useFullPrecision:!0}):void 0},[en,z,k,O,es,ea,H,V,G]);v||(m="Connect Wallet",N=N??0),T===c.tK.INVALID&&(m=m??"Invalid pair",N=N??1),F&&(m=m??"Invalid price input",N=N??2),(en[a.gN.CURRENCY_A]||eo)&&(en[a.gN.CURRENCY_B]||el)||(m=m??"Enter an amount",N=N??3);let{[a.gN.CURRENCY_A]:ec,[a.gN.CURRENCY_B]:eu}=en;ec&&U?.[a.gN.CURRENCY_A]?.lessThan(ec)&&(m=`Insufficient ${S[a.gN.CURRENCY_A].isNative&&y===o.ChainId.TELOS?S[a.gN.CURRENCY_A]?.wrapped.symbol:S[a.gN.CURRENCY_A]?.symbol} balance`,N=N??4),eu&&U?.[a.gN.CURRENCY_B]?.lessThan(eu)&&(m=`Insufficient ${S[a.gN.CURRENCY_B].isNative&&y===o.ChainId.TELOS?S[a.gN.CURRENCY_B]?.wrapped.symbol:S[a.gN.CURRENCY_B]?.symbol} balance`,N=N??5);let ep=T===c.tK.INVALID;return{dependentField:A,currencies:S,pool:M,poolState:T,currencyBalances:U,parsedAmounts:en,ticks:W,price:$,pricesAtTicks:J,position:ed,noLiquidity:D,errorMessage:m,errorCode:N,invalidPool:ep,invalidRange:H,invalidPrice:F,outOfRange:et,depositADisabled:eo,depositBDisabled:el,invertPrice:Y,ticksAtLimit:X,dynamicFee:B,lowerPrice:Q,upperPrice:ee,tickSpacing:q}}function y(e,t,r,n,s,d){let c=(0,u.T)(),p=(0,i.useMemo)(()=>e?.wrapped,[e]),m=(0,i.useMemo)(()=>t?.wrapped,[t]),f=(0,i.useCallback)(function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return p&&m&&"number"==typeof n&&r?(0,l.zz)(p,m,n-r*e).toSignificant(5,void 0,o.Rounding.ROUND_UP):"number"!=typeof n&&p&&m&&r&&d?(0,l.zz)(p,m,d.tickCurrent-r*e).toSignificant(5,void 0,o.Rounding.ROUND_UP):""},[p,m,n,r,d]),x=(0,i.useCallback)(function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return p&&m&&"number"==typeof n&&r?(0,l.zz)(p,m,n+r*e).toSignificant(5,void 0,o.Rounding.ROUND_UP):"number"!=typeof n&&p&&m&&r&&d?(0,l.zz)(p,m,d.tickCurrent+r*e).toSignificant(5,void 0,o.Rounding.ROUND_UP):""},[p,m,n,r,d]),h=(0,i.useCallback)(function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return p&&m&&"number"==typeof s&&r?(0,l.zz)(p,m,s-r*e).toSignificant(5,void 0,o.Rounding.ROUND_UP):"number"!=typeof s&&p&&m&&r&&d?(0,l.zz)(p,m,d.tickCurrent-r*e).toSignificant(5,void 0,o.Rounding.ROUND_UP):""},[p,m,s,r,d]);return{getDecrementLower:f,getIncrementLower:x,getDecrementUpper:h,getIncrementUpper:(0,i.useCallback)(function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return p&&m&&"number"==typeof s&&r?(0,l.zz)(p,m,s+r*e).toSignificant(5,void 0,o.Rounding.ROUND_UP):"number"!=typeof s&&p&&m&&r&&d?(0,l.zz)(p,m,d.tickCurrent+r*e).toSignificant(5,void 0,o.Rounding.ROUND_UP):""},[p,m,s,r,d]),getSetRange:(0,i.useCallback)(e=>{if(p&&m&&r&&d){let t=(0,l.zz)(p,m,Math.max(l.pk.MIN_TICK,d.tickCurrent-e)),r=(0,l.zz)(p,m,Math.min(l.pk.MAX_TICK,d.tickCurrent+e));return[t.toSignificant(5,void 0,o.Rounding.ROUND_UP),r.toSignificant(5,void 0,o.Rounding.ROUND_UP)]}return["",""]},[p,m,r,d]),getSetFullRange:(0,i.useCallback)(()=>{c((0,a._h)())},[c])}}function C(){let e=(0,u.C)(e=>e.mintV3.preset);return(0,i.useMemo)(()=>e,[e])}function R(){let e=(0,u.C)(e=>e.mintV3.txHash);return(0,i.useMemo)(()=>e,[e])}function w(){let e=(0,u.C)(e=>e.mintV3.showNewestPosition);return(0,i.useMemo)(()=>e,[e])}},438329:function(e,t,r){r.d(t,{Z:function(){return l}});var i=r(108307),n=r(70321),s=r.n(n);class a{constructor(){(0,i.Z)(this,"storage",void 0),this.storage=new(s())}static getInstance(){return a.instance||(a.instance=new a),a.instance}getCache(){return this.storage}}(0,i.Z)(a,"instance",void 0);var o=a.getInstance().getCache(),l=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2,r=e?.data?.message||e?.message||"Cannot proceed";if(!o.get(r))return o.set(r,!0,t),"execution reverted: Too little received"===r&&(r+=": try increasing the slippage"),("execution reverted without reason provided"===r||"Error: Transaction reverted without a reason string"===r)&&(r="Cannot proceed (transaction reverted)"),"Internal JSON-RPC error."===r&&(r="Cannot proceed (Internal JSON-RPC error)"),"execution reverted: STF"===r&&(r="Cannot proceed: not enough balance (STF)"),r}}}]);